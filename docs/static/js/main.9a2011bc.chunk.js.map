{"version":3,"sources":["utils/data.js","utils/fetching.js","../node_modules/@aws-amplify/ui-components/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","hooks/useCursor.ts","theme.js","context/context.tsx","pages/Page1.tsx","pages/Page2.tsx","pages/Page3.tsx","context/Provider.tsx","components/Link.tsx","components/Pre.tsx","components/Chrome.tsx","components/View.tsx","components/Header.tsx","router/index.ts","App.js","aws-exports.js","index.tsx","utils/index.js"],"names":["log","console","collapse","coll","sep","crumbs","acc","Object","entries","forEach","key","val","isArray","isPlainObject","join","diff","cur","c_a","created_at","rest","time_acc","Date","getTime","time_cur","days_gap","Math","abs","isNaN","xform","comp","map","x","k","v","split","slice","prune","props","opens_count","nonunique_opens_count","total_click_count","emails_delivered","unsubscribes","subject","addresses_count","engagement_rate","subject_words","length","unsubscribe_rate","impressions","emails_sent","avg_impressions","unique_opens_count","scan","bulletins_sent","direct","overlay","signup","upload","other","all_network","deleted_subscriptions","new_subscriptions","new_topic_subscriptions","subscriptions","deleted","network","dotenv","config","process","REACT_APP_AMP_URL","REACT_APP_AMP_KEY","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","keys","module","exports","atom","theme","createTheme","palette","primary","main","secondary","accent","useCursor","$store$","path","uid","now","useState","state","setState","cursor","Cursor","addWatch","bfr","aft","CTX","createContext","run$","parse","URL2obj","DefaultView","Pre","page","loading","Page1","data","JSON","stringify","Page2","children","Page3","Provider","CFG","K","router","knowns","values","prfx","diff_keys","others","escRGX","RGX","RegExp","replace","registerRouterDOM","deref","value","window","location","href","NAV","registerCMD","cmd_nav","Link","to","useContext","onClick","preventDefault","next","args","json","Chrome","style","minHeight","Header","padding","overflow","textAlign","View","pageCursor","loadingCursor","pathCursor","useLayoutEffect","release","store","loader","className","RenderPage","home","page1","page2","page3","is_home","getIn","AppHeader","styled","header","AppHeaderContent","div","AppHeaderNavList","ul","AppHeaderLink","routerCfg","url","a","match","URL_DOMN","URL_FULL","URL_HASH","URL_PATH","URL_QERY","URL_SUBD","RES","EquivMap","node","list","type","API","NodeType","A_GEM","status","NodeStatus","DRAFT","URL_DATA","owner","DOM_HEAD","title","og_description","DOM_BODY","URL_PAGE","get","DATA","PAGE","INJECT_HEAD","cmd_inject_head","out$","topics","App","React","authState","setAuthState","user","setUser","useEffect","onAuthUIStateChange","nextAuthState","authData","AuthState","SignedIn","slot","formFields","placeholder","required","label","awsmobile","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","aws_cloud_logic_custom","name","endpoint","region","aws_appsync_graphqlEndpoint","aws_appsync_region","aws_appsync_authenticationType","aws_appsync_apiKey","aws_appsync_dangerously_connect_to_http_endpoint_for_testing","configureWith","awsconfig","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.9a2011bc.chunk.js","sourcesContent":["//import { getIn, setIn } from \"@thi.ng/paths\"\nimport { isPlainObject, isArray } from \"@thi.ng/checks\"\nimport { map, transduce, comp, push, scan } from \"@thi.ng/transducers\"\nimport { getIn } from \"@thi.ng/paths\"\n\nexport const log = console.log\nexport const json = arg => JSON.stringify(arg, null, 2)\nexport const JL = arg => log(json(arg))\n\nexport const isEmpty = coll => {\n    return isPlainObject(coll) && !Object.keys(coll).length\n        ? true\n        : isArray(coll) && !coll.length\n        ? true\n        : false\n}\n\n/**\n * @example\n *\n * const coll = {\n *     one: 1,\n *     two: 2,\n *     three: [\n *         { a: 111, b: \"ðŸ¤ž\", c: \"ðŸ•—\" },\n *         { a: 333, b: \"ðŸ˜»\", c: \"ðŸ‘\" },\n *     ],\n *     four: {\n *         five: [\n *             {\n *                 id: 6,\n *                 bloop: \"blop\",\n *             },\n *             {\n *                 id: 7,\n *                 bloop: \"poop\",\n *             },\n *         ],\n *     },\n * }\n *\n *collapse(coll)\n * // => {\n *     \"one\": 1,\n *     \"two\": 2,\n *     \"three/0/a\": 111,\n *     \"three/0/b\": \"ðŸ¤ž\",\n *     \"three/0/c\": \"ðŸ•—\",\n *     \"three/1/a\": 333,\n *     \"three/1/b\": \"ðŸ˜»\",\n *     \"three/1/c\": \"ðŸ‘\",\n *     \"four/five/0/id\": 6,\n *     \"four/five/0/bloop\": \"blop\",\n *     \"four/five/1/id\": 7,\n *     \"four/five/1/bloop\": \"poop\"\n *  }\n */\nexport const collapse = (coll, sep = \"/\", crumbs = [], acc = {}) => {\n    //log({ coll })\n    coll = coll === null ? {} : coll\n    Object.entries(coll).forEach(([key, val]) => {\n        isArray(val) || isPlainObject(val)\n            ? collapse(val, sep, [...crumbs, key], acc)\n            : (acc[[...crumbs, key].join(sep)] = val)\n    })\n    return acc\n}\n/**\n * when all last key qualifiers are unique, this function\n * removes unnecessarily specific keys\n *\n * @example\n *\n * const coll = {\n *    \"one\": 1,\n *    \"two\": 2,\n *    \"three/0/a\": 111,\n *    \"three/0/b\": \"ðŸ¤ž\",\n *    \"three/0/c\": \"ðŸ•—\",\n *    \"three/1/a\": 333,\n *    \"three/1/b\": \"ðŸ˜»\",\n *    \"three/1/c\": \"ðŸ‘\",\n *    \"four/five/0/id\": 6,\n *    \"four/five/0/bloop\": \"blop\",\n *    \"four/five/1/id\": 7,\n *    \"four/five/1/bloop\": \"poop\"\n * }\n *\n * prune(coll)\n * // => { one: 1, two: 2, a: 333, b: 'ðŸ˜»', c: 'ðŸ‘', id: 7, bloop: 'poop' }\n */\nexport const prune = (coll, sep = \"/\", acc = {}) => {\n    Object.entries(coll).forEach(([k, v]) => {\n        const key = k.split(sep).slice(-1)\n        acc[key] = v\n    })\n    return acc\n}\n\n/*\n  [{\n    \"id\": \"12036044\",\n    \"campaign_id\": \"NA\",\n    \"sender_email\": \"martin.brockman@census.gov\",\n    \"created_at\": \"2014-05-13T12:45:32.000Z\",\n    \"subject\": \"Advance Monthly Sales for Retail and Food Services\",\n    \"delivery_status_name\": \"Delivered\",\n    \"addresses_count\": 6491,\n    \"success_count\": 6286,\n    \"failed_count\": 205,\n    \"percent_success\": 96.841780927438,\n    \"immediate_email_recipients\": 6491,\n    \"emails_delivered\": 6286,\n    \"emails_failed\": 205,\n    \"percent_emails_delivered\": 96.841780927438,\n    \"opens_count\": 731,\n    \"percent_opened\": 11.62901686286987,\n    \"nonunique_opens_count\": 954,\n    \"links_count\": 17,\n    \"click_rate\": 2.6885141584473433,\n    \"nonunique_clicks_count\": 169,\n    \"nonunique_nonunique_clicks_count\": 189,\n    \"digest_email_recipients\": 0,\n    \"unique_click_count\": 164,\n    \"total_click_count\": 189,\n    \"unsubscribes\": 1\n  }, ...]\n\n\n//  \n//  ~~~888~~~   ,88~-_   888~-_     ,88~-_   \n//     888     d888   \\  888   \\   d888   \\  \n//     888    88888    | 888    | 88888    | \n//     888    88888    | 888    | 88888    | \n//     888     Y888   /  888   /   Y888   /  \n//     888      `88_-~   888_-~     `88_-~   \n//                                           \n//  \n\n  TODO: add other derived values (e.g., subject_is_question: bool...)\n  // sendcheckit ///////////////////////////////////////////////\n\n    //https://sendcheckit.com/api/?subject=are%20you%20frustrated%20with%20your%20data?\nconst sendcheckit_reponse = {\n  flesch_score: 87.9,\n  scannability_score: 8.790000000000001,\n  flesch_grade: 2,\n  num_words: 6,\n  num_syllables: 8,\n  num_characters: 34,\n  re_found: false,\n  fwd_found: false,\n  free_found: false,\n  spam_words_found: false,\n  personalization_detected: false,\n  low_friction_words_found: false,\n  medium_friction_words_found: false,\n  is_a_question: true,\n  all_caps_found: false,\n  most_complicated_word: \"frustrated\",\n  exclamation_found: false,\n  excessive_punctuation_found: false,\n  contains_emoji: false,\n  all_lowercase: true,\n  medium_friction_words_in_subject: [],\n  spam_words_in_subject: [],\n  sentiment: \"negative\",\n  sentiment_score: -0.5,\n  most_complicated_word_score: 36.6,\n  rating: 103,\n  letter_rating: \"A+\",\n}\n/////////////////////////////////////////////// sendcheckit //\n\n// grammarly (unofficial) ///////////////////////////////////////////////\n\n// https://github.com/stewartmcgown/grammarly-api\n\n//\n//        /                                                               888\n//  e88~88e 888-~\\   /~~~8e  888-~88e-~88e 888-~88e-~88e   /~~~8e  888-~\\ 888 Y88b  /\n//  888 888 888          88b 888  888  888 888  888  888       88b 888    888  Y888/\n//  \"88_88\" 888     e88~-888 888  888  888 888  888  888  e88~-888 888    888   Y8/\n//   /      888    C888  888 888  888  888 888  888  888 C888  888 888    888    Y\n//  Cb      888     \"88_-888 888  888  888 888  888  888  \"88_-888 888    888   /\n//   Y8\"\"8D                                                                   _/\n//\n\n/////////////////////////////////////////////// grammarly (unofficial) //\n*/\n\nexport const augment = props => {\n    const {\n        opens_count,\n        nonunique_opens_count,\n        total_click_count,\n        emails_delivered,\n        unsubscribes,\n        subject = \"\",\n        addresses_count,\n        ...rest\n    } = props\n    const engagement_rate = ~~(\n        ((opens_count + total_click_count) / emails_delivered) *\n        100\n    )\n    const subject_words = subject.split(\" \").length\n    const unsubscribe_rate = (unsubscribes / emails_delivered) * 100\n    const impressions = total_click_count + nonunique_opens_count\n    return {\n        emails_sent: addresses_count,\n        ...props,\n        unsubscribes,\n        unsubscribe_rate,\n        engagement_rate,\n        impressions,\n        avg_impressions: impressions,\n        opens_count: nonunique_opens_count,\n        unique_opens_count: opens_count,\n        addresses_count,\n        ...(subject_words && { subject_words }),\n        ...rest,\n    }\n}\n\nexport const diff = [\n    () => ({}),\n    acc => acc,\n    (acc, cur) => {\n        //log({ acc, cur })\n        const { created_at: c_a } = acc\n        const { created_at, ...rest } = cur\n        const time_acc = new Date(c_a).getTime()\n        const time_cur = new Date(created_at).getTime()\n        const days_gap = Math.abs((time_cur - time_acc) / (1000 * 3600 * 24))\n\n        return {\n            days_gap: isNaN(days_gap) ? null : days_gap > 30 ? 30 : ~~days_gap,\n            created_at,\n            ...rest,\n        }\n    },\n]\n\nconst divy = coll => {\n    const {\n        bulletins_sent: x,\n        direct,\n        overlay,\n        signup,\n        upload,\n        other,\n        all_network,\n        deleted_subscriptions,\n        new_subscriptions,\n        ...rest\n    } = coll\n    return {\n        bulletins_sent: x,\n        new_topic_subscriptions: new_subscriptions,\n        subscriptions: ~~(new_subscriptions / x),\n        deleted: -~~(deleted_subscriptions / x),\n        network: ~~(all_network / x),\n        direct: ~~(direct / x),\n        upload: ~~(upload / x),\n        overlay: ~~(overlay / x),\n        signup: ~~(signup / x),\n        other: ~~(other / x),\n        ...rest,\n    }\n}\n\nconst xform = comp(\n    map(x => collapse(x)),\n    map(x => prune(x))\n)\n\nconst augMap = comp(xform, map(augment), scan(diff))\nconst divyUp = comp(xform, map(divy))\n\nexport const squish = coll => transduce(divyUp, push(), coll)\nexport const squash = coll => transduce(augMap, push(), coll)\n\n/*\n{acc: {â€¦}, cur: {â€¦}}\nacc:\ncode: \"USCENSUS_292\"\ncreated_at2: undefined\ndays_gap: NaN\nengagement_rate: NaN\nname: \"Economic Studies\"\ntopic_id: \"73957\"\nSymbol(vega_id): 18737\n__proto__: Object\ncur:\ncode: \"USCENSUS_292\"\nengagement_rate: NaN\nname: \"Economic Studies\"\ntopic_id: \"73957\"\n__proto__: Object\n*/\n//diff[2](\n//    { created_at: \"2018-05-10T13:14:15.000Z\" },\n//    { created_at: \"2013-10-24T13:02:00.000Z\" }\n//) //?\n\n/**\n * @example\n * let test = [{a:1, b:2, c:3}, {a:2, b:5, c:9}, {a:1, b:4, c:6}]\n *\n * collect_by_path([\"a\"], test) //?\n *\n * { 1: [{a:1, b:2, c:3}, {a:1, b:4, c:6}], 2: [{a:2, b:5, c:9}] }\n */\nexport const collect_by_path = (path, entries = []) => {\n    let collection = {}\n    entries.forEach(entry => {\n        const prop = getIn(entry, path)\n        if (collection[prop]) {\n            return collection[prop].push(entry)\n        }\n        return (collection[prop] = [entry])\n    })\n    return collection\n}\n\n/**\n * @example\n * let test = [{a:1, b:2, c:3}, {a:2, b:5, c:9}, {a:1, b:4, c:6}]\n *\n * aggregate_by_key(test) //?\n *\n * { a: [ 1, 2, 1 ], b: [ 2, 5, 4 ], c: [ 3, 9, 6 ] }\n */\nexport const aggregate_by_key = (reports = []) => {\n    let aggregates = {}\n    reports.forEach(report => {\n        Object.entries(report).forEach(([k, v]) => {\n            if (aggregates[k]) {\n                return aggregates[k].push(v)\n            }\n            return (aggregates[k] = [v])\n        })\n    })\n    return aggregates\n}\n\n/**\n * @example\n * let test = [{a:1, b:2, c:3}, {a:2, b:5, c:9}, {a:1, b:4, c:6}]\n *\n * coll_by_path_aggregate([\"a\"], test) //?\n *\n * {\n *  1: {\n *      aggregate:{a:[1,1], b:[2,4], c:[3,6]},\n *      reports:[{a:1, b:2, c:3}, {a:1, b:4, c:6}]\n *  },\n *  2: {\n *      aggregate:{a:[2], b:[5], c:[9]},\n *      reports:[{a:2, b:5, c:9}]\n *  }\n * }\n */\nexport const coll_by_path_aggregate = (path = [], entries = []) => {\n    let coll = collect_by_path(path, entries)\n    return Object.entries(coll).reduce((a, c, i, d) => {\n        let [sender, reports] = c\n        a[sender] = { aggregate: aggregate_by_key(reports), reports }\n        return a\n    }, {})\n}\n\n/**\n * @example\n * let ex = { a: [ 1, 2, 1 ], b: [ 2, 5, 4 ], c: [ 3, 9, 6 ] }\n * apply_kv_ops({a: [(a, c, i, d) => a + c, 0], b: [(a, c, i, d) => (a.push(c), a), []]})(ex) //?\n * { a: 4, b: [2, 5, 4] }\n */\nexport const apply_kv_ops = (key_reduction_map = {}) => (aggregate = {}) => {\n    return Object.entries(aggregate).reduce((a, c, i, d) => {\n        let [_key, arr] = c\n        if (key_reduction_map[_key]) {\n            a[_key] = arr.reduce(...key_reduction_map[_key])\n        }\n        return a\n    }, {})\n}\n\n/**\n * @example\n * let test = [\n *   {\n *       sender_email: \"test1@some.com\",\n *       success_count: 100,\n *       percent_opened: 2,\n *       click_rate: 4,\n *       unsubscribe_rate: 1,\n *   },\n *   {\n *       sender_email: \"test1@some.com\",\n *       success_count: 200,\n *       percent_opened: 4,\n *       click_rate: 6,\n *       unsubscribe_rate: 2,\n *   },\n *   {\n *       sender_email: \"test3@some.com\",\n *       success_count: 300,\n *       percent_opened: 6,\n *       click_rate: 8,\n *       unsubscribe_rate: 3,\n *   },\n * ]\n *\n * coll_aggregator_sender(test) //?\n *\n * { 'test1@some.com':\n *   { reports: [ [Object], [Object] ],\n *     summary:\n *      { success_count: 300,\n *        percent_opened: 3,\n *        click_rate: 5,\n *        unsubscribe_rate: 1.5 } },\n *  'test3@some.com':\n *   { reports: [ [Object] ],\n *     summary:\n *      { success_count: 300,\n *        percent_opened: 6,\n *        click_rate: 8,\n *        unsubscribe_rate: 3 } } }\n */\nexport const coll_aggregator_sender = data => {\n    const filtered = data.filter(x => x.emails_sent > 100)\n    const collection = coll_by_path_aggregate([\"sender_email\"], filtered)\n    const avg = [(a, c, i, { length }) => ~~((a + c / length) * 100) / 100, 0]\n    const sum = [(a, c, i, d) => a + c, 0]\n\n    let out = {}\n\n    Object.entries(collection).forEach(([sender, metrics]) => {\n        out[sender] = {\n            summary: apply_kv_ops({\n                emails_sent: sum,\n                success_count: sum,\n                percent_emails_delivered: avg,\n                percent_opened: avg,\n                click_rate: avg,\n                engagement_rate: avg,\n                unsubscribe_rate: avg,\n                impressions: sum,\n                addresses_count: avg,\n                emails_delivered: avg,\n                opens_count: avg,\n                unique_opens_count: avg,\n                nonunique_clicks_count: avg,\n                unique_click_count: avg,\n                avg_impressions: avg,\n            })(metrics[\"aggregate\"]),\n            reports: metrics[\"reports\"],\n        }\n    })\n    return out\n}\n\n/**\n * @example\n *\n * const agr_coll = {\n * 'test1@some.com':\n *   { reports: [ [Object], [Object] ],\n *     summary:\n *      { success_count: 300,\n *        percent_opened: 3,\n *        click_rate: 5,\n *        unsubscribe_rate: 1.5 } },\n *  'test3@some.com':\n *   { reports: [ [Object] ],\n *     summary:\n *      { success_count: 300,\n *        percent_opened: 6,\n *        click_rate: 8,\n *        unsubscribe_rate: 3 } } }\n * averaged(agr_coll) //?\n * {\n *  success_count: 300,\n *  percent_opened: 4.5,\n *  click_rate: 6.5,\n *  unsubscribe_rate: 4\n * }\n */\nexport const averaged = agr_coll =>\n    Object.entries(agr_coll).reduce((a, c, i, { length }) => {\n        const [_, stats] = c\n        const { summary } = stats\n        Object.entries(summary).forEach(([k, v]) => {\n            a[k] = a[k]\n                ? ~~((a[k] + v / length) * 100) / 100\n                : ~~((v / length) * 100) / 100\n        })\n        return a\n    }, {})\n\nexport const metric_name = k =>\n    k === \"success_count\"\n        ? \"Succeeded (#)\"\n        : k === \"percent_emails_delivered\"\n        ? \"Delivered (%)\"\n        : k === \"percent_opened\"\n        ? \"Opened (%)\"\n        : k === \"click_rate\"\n        ? \"Clicked (%)\"\n        : k === \"unsubscribe_rate\"\n        ? \"Deleted (%)\"\n        : k === \"engagement_rate\"\n        ? \"Engaged (%)\"\n        : k === \"impressions\"\n        ? \"Impressions (#)\"\n        : k === \"addresses_count\"\n        ? \"Sent (#)\"\n        : k === \"emails_delivered\"\n        ? \"Delivered (#)\"\n        : k === \"opens_count\"\n        ? \"Opens (#)\"\n        : k === \"unique_opens_count\"\n        ? \"Unique Opens (#)\"\n        : k === \"nonunique_clicks_count\"\n        ? \"Clicks (#)\"\n        : k === \"unique_click_count\"\n        ? \"Unique Clicks (#)\"\n        : k === \"avg_impressions\"\n        ? \"Impressions (#)\"\n        : k === \"emails_sent\"\n        ? \"Sent (#)\"\n        : \"(#)\"\n","import GQL from \"nanographql\"\nimport fetch from \"node-fetch\"\nimport dotenv from \"dotenv\"\n//import { listBulletins } from \"../queries\"\n//import { log, JL, squash } from \"./data\"\ndotenv.config()\n\nexport const GQL_URL = process.env.REACT_APP_AMP_URL\nexport const GQL_KEY = process.env.REACT_APP_AMP_KEY\n\n/**\n * @example\n * grafetch({\n *     gql: listBulletins({ bulletin: { bgn: 2010, id: \"3404745\" } }),\n * }).then(({ data: { listBulletins: { items } } }) => squash(items)) //?\n *\n * [\n *   {\n *     \"id\": \"33582515\",\n *     \"campaign_id\": \"20180322gssubs1ccstars\",\n *     \"sender_email\": \"anthony.j.calabrese@census.gov\",\n *     \"created_at\": \"2018-07-22T13:00:07.000Z\",\n *     \"subject\": \"How to Find What You Need on Census.gov\",\n *     \"delivery_status_name\": \"Delivered\",\n *     \"addresses_count\": 254,\n *     \"success_count\": 248,\n *     \"failed_count\": 6,\n *     \"percent_success\": 97.63779527559055,\n *     \"immediate_email_recipients\": 254,\n *     \"emails_delivered\": 248,\n *     \"emails_failed\": 6,\n *     \"percent_emails_delivered\": 97.63779527559055,\n *     \"opens_count\": 67,\n *     \"percent_opened\": 27.016129032258064,\n *     \"nonunique_opens_count\": 124,\n *     \"links_count\": 22,\n *     \"click_rate\": 2.8225806451612905,\n *     \"clicks_count\": 7,\n *     \"nonunique_clicks_count\": 9,\n *     \"digest_email_recipients\": 0,\n *     \"unique_click_count\": 7,\n *     \"total_click_count\": 9,\n *     \"unsubscribes\": 1\n *   },\n *   ...\n * ]\n */\nexport const grafetch = ({\n    gql = undefined,\n    arg = {},\n    api = GQL_URL,\n    key = GQL_KEY,\n}) => {\n    let query = GQL(gql)\n    return fetch(api, {\n        method: \"POST\",\n        headers: {\n            \"x-api-key\": key,\n            \"Content-Type\": \"application/json\",\n        },\n        body: query(arg),\n    })\n        .then(r => r.json())\n        .catch(console.error)\n}\n","var map = {\n\t\"./amplify-amazon-button_5.entry.js\": [\n\t\t462,\n\t\t12\n\t],\n\t\"./amplify-auth-container.entry.js\": [\n\t\t463,\n\t\t13\n\t],\n\t\"./amplify-auth-fields_9.entry.js\": [\n\t\t464,\n\t\t14\n\t],\n\t\"./amplify-authenticator.entry.js\": [\n\t\t465,\n\t\t6\n\t],\n\t\"./amplify-button_3.entry.js\": [\n\t\t466,\n\t\t15\n\t],\n\t\"./amplify-chatbot.entry.js\": [\n\t\t489,\n\t\t5\n\t],\n\t\"./amplify-checkbox.entry.js\": [\n\t\t467,\n\t\t16\n\t],\n\t\"./amplify-confirm-sign-in_7.entry.js\": [\n\t\t468,\n\t\t7\n\t],\n\t\"./amplify-container.entry.js\": [\n\t\t469,\n\t\t17\n\t],\n\t\"./amplify-federated-buttons_2.entry.js\": [\n\t\t470,\n\t\t18\n\t],\n\t\"./amplify-federated-sign-in.entry.js\": [\n\t\t471,\n\t\t19\n\t],\n\t\"./amplify-form-field_4.entry.js\": [\n\t\t472,\n\t\t20\n\t],\n\t\"./amplify-greetings.entry.js\": [\n\t\t473,\n\t\t21\n\t],\n\t\"./amplify-icon-button.entry.js\": [\n\t\t474,\n\t\t22\n\t],\n\t\"./amplify-icon.entry.js\": [\n\t\t475,\n\t\t8\n\t],\n\t\"./amplify-link.entry.js\": [\n\t\t476,\n\t\t23\n\t],\n\t\"./amplify-nav_2.entry.js\": [\n\t\t477,\n\t\t24\n\t],\n\t\"./amplify-photo-picker.entry.js\": [\n\t\t478,\n\t\t25\n\t],\n\t\"./amplify-picker.entry.js\": [\n\t\t479,\n\t\t26\n\t],\n\t\"./amplify-radio-button_3.entry.js\": [\n\t\t480,\n\t\t9\n\t],\n\t\"./amplify-s3-album.entry.js\": [\n\t\t481,\n\t\t0,\n\t\t27\n\t],\n\t\"./amplify-s3-image-picker.entry.js\": [\n\t\t482,\n\t\t0,\n\t\t28\n\t],\n\t\"./amplify-s3-image.entry.js\": [\n\t\t483,\n\t\t0,\n\t\t29\n\t],\n\t\"./amplify-s3-text-picker.entry.js\": [\n\t\t484,\n\t\t0,\n\t\t30\n\t],\n\t\"./amplify-s3-text.entry.js\": [\n\t\t485,\n\t\t0,\n\t\t31\n\t],\n\t\"./amplify-select-mfa-type.entry.js\": [\n\t\t486,\n\t\t32\n\t],\n\t\"./amplify-sign-in-button.entry.js\": [\n\t\t487,\n\t\t10\n\t],\n\t\"./amplify-tooltip.entry.js\": [\n\t\t488,\n\t\t33\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 451;\nmodule.exports = webpackAsyncContext;","import { $store$ } from \"@-0/browser\"\nimport { useState, useEffect } from \"react\"\nimport { Cursor } from \"@thi.ng/atom\"\nimport { log } from \"../utils/data\"\n\nexport const createCursor = atom => (path, uid = `${Date.now()}`) => {\n    const [ state, setState ] = useState(null)\n    const cursor = new Cursor(atom, path)\n    cursor.addWatch(uid, (id, bfr, aft) => {\n        log(`${id} cursor triggered`, { state })\n        setState(aft)\n    })\n    return [ state, cursor ]\n}\n\nexport const useCursor = createCursor($store$)\n","import { createTheme } from \"@material-ui/core/styles\"\n\nconst theme = createTheme({\n    palette : {\n        primary   : { main: \"hsl(213 65% 19%)\" },\n        secondary : { main: \"hsl(199deg 19% 36%)\" },\n        accent    : { main: \"hsl(186deg 100% 29%)\" }\n    }\n})\n\nexport default theme\n","import React, { createContext } from \"react\"\nimport { run$ } from \"@-0/spool\"\nimport { $store$ } from \"@-0/browser\"\nimport { URL2obj } from \"@-0/utils\"\nimport { useCursor } from \"../hooks\"\nimport { Pre } from \"../components\"\n\nexport const CTX = createContext({\n    run$,\n    useCursor,\n    $store$,\n    parse: URL2obj,\n    DefaultView: Pre,\n    page: null,\n    loading: true,\n    path: []\n})\n","import React from \"react\"\n\nexport const Page1 = ({ data = [] }) => (\n    <>\n        <div>\n            <h1>Page 1</h1>\n            <pre>{JSON.stringify(data, null, 2)}</pre>\n        </div>\n    </>\n)","import React from \"react\"\n\nexport const Page2 = ({ children }) => (\n    <>\n        <div>\n            <h1>Page 2</h1>\n            { children }\n        </div>\n    </>\n)","import React from \"react\"\n\nexport const Page3 = ({ children }) => (\n    <>\n        <div>\n            <h1>Page 3</h1>\n            { children }\n        </div>\n    </>\n)","import React from \"react\"\nimport { run$ } from \"@-0/spool\"\nimport { $store$, registerRouterDOM } from \"@-0/browser\"\nimport { URL2obj, diff_keys } from \"@-0/utils\"\nimport * as K from \"@-0/keys\"\n\nimport { CTX } from \"../context\"\nimport { log } from \"../utils\"\nimport { Link, Pre } from \"../components\"\nimport { Page1 } from \"../pages\"\nimport { useCursor } from \"../hooks\"\n\n//prettier-ignore\nexport const Provider = ({ children, CFG = {} }) => {\n   \n    //const DOMRoot     = CFG[K.CFG_ROOT] || document.body \n    // â¬† âš  can't refer to the root node (circular reference)\n\n    // default wrapper for pages before they are specified\n    const DefaultView = CFG[K.CFG_VIEW] || Page1\n    const router      = CFG[K.CFG_RUTR]\n    // clean URL\n    const knowns      = Object.values(K.CFG) || []\n    const prfx        = router[K.RTR_PRFX] || null\n    const [, others]  = diff_keys(knowns, CFG)\n    const escRGX      = /[-/\\\\^$*+?.()|[\\]{}]/g\n    const escaped     = str => str.replace(escRGX, \"\\\\$&\")\n    const RGX         = prfx ? new RegExp(escaped(prfx || \"\"), \"g\") : null\n\n    if (router) registerRouterDOM(router)\n    else throw new Error(`no \\`${K.CFG_RUTR}\\`: router found in Provider CFG`)\n    \n    // Prime store with CFG state\n    //$store$.swap(x => ({...CFG, ...x}))\n\n    // FIXME: log\n    log(\"$store$.deref():\", $store$.deref() )\n\n    return (\n        <CTX.Provider value={{\n            run$,\n            useCursor,\n            $store$,\n            parse: () => URL2obj(window.location.href, RGX),\n            DefaultView,\n            ...others\n          }}>\n            { children }\n        </CTX.Provider>\n    )\n}\n","import React, { useContext } from \"react\"\nimport { registerCMD } from \"@-0/spool\"\nimport { cmd_nav, DOMnavigated$ } from \"@-0/browser\"\nimport { CTX } from \"../context\"\nimport { log } from \"../utils/data\"\n\nconst NAV = registerCMD(cmd_nav)\n\nexport const Link = ({ to, children }) => {\n    const { run$ } = useContext(CTX)\n    const path = `/${to}`\n    //log({ path })\n    return (\n        <a\n            href={path}\n            onClick={e => {\n                e.preventDefault()\n                run$.next({ ...NAV, args: e })\n            }}\n        >\n            {children}\n        </a>\n    )\n}\n","import React from \"react\"\n\nexport const Pre = ({ data }) => {\n    const json = JSON.stringify(data, null, 2)\n    //log(\"Pre, json:\", json)\n    return <pre>{json}</pre>\n}\n","import React, { useState, useContext, useEffect } from \"react\"\nimport { getIn } from \"@thi.ng/paths\"\nimport * as K from \"@-0/keys\"\nimport { CTX } from \"../context\"\nimport { navigate } from \"../commands\"\nimport { Link, Header } from \"../components\"\n//import { log } from \"../utils\"\n\n//const { SubMenu } = Menu\n\nexport const Chrome = ({ children }) => {\n    //const { useCursor } = useContext(CTX)\n    //const [ path, pathCursor ] = useCursor([ K.$$_PATH ], \"Route Path\")\n\n    ////log({ path })\n\n    //useEffect(\n    //    () => {\n    //        pathCursor?.release()\n    //        return\n    //    },\n    //    [ path, pathCursor ]\n    //)\n\n    return (\n        <div>\n            <div\n                style={{\n                    minHeight: \"100vh\"\n                    //overflow: \"hidden\",\n                }}\n            >\n                <div style={{ minHeight: \"100vh\" }}>\n                    <Header />\n                    <ul>\n                        <Link to=\"page1\">page1</Link>\n                        <Link to=\"page2\">page2</Link>\n                        <Link to=\"page3\">page3</Link>\n                    </ul>\n                    <div\n                        style={{\n                            padding: \"0 24px\",\n                            minHeight: 280,\n                            overflow: \"hidden\"\n                        }}\n                    >\n                        {children}\n                    </div>\n                </div>\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n                Â©2021 US Census Bureau Civic Digital Fellows Team: Tommy Nguyen | Logan Powell\n            </div>\n        </div>\n    )\n}\n","import React, { useContext, useLayoutEffect, useEffect, useState } from \"react\"\nimport { getIn } from \"@thi.ng/paths\"\nimport * as K from \"@-0/keys\"\nimport { CTX } from \"../context\"\nimport { Page1, Page2, Page3 } from \"../pages\"\nimport {} from \"../hooks\"\n\n/**\n * TODO: Abstract away\n * @params = {\n *      key: value\n *      page_key_returned_from_equivmap: ActualPageComponent\n * }\n */\nexport const View = () => {\n    const { $store$, useCursor } = useContext(CTX)\n    const [ page, pageCursor ] = useCursor([ K.$$_VIEW ], \"View Page\")\n    const [ loading, loadingCursor ] = useCursor([ K.$$_LOAD ], \"View loading\")\n    const [ path, pathCursor ] = useCursor([ K.$$_PATH ], \"Route Path\")\n\n    useLayoutEffect(\n        () => {\n            // re-render when loading state changes\n            console.log(\"re-rendered Page:\", { loading, page, path })\n            console.log(\"store:\", $store$.deref())\n            // cleanup\n            return () => {\n                //log(\"cleaning up:\", { loading, Page })\n                loadingCursor.release()\n                pathCursor.release()\n                pageCursor.release()\n            }\n        },\n        [ page, pageCursor, path, pathCursor, loading, loadingCursor, $store$ ]\n    )\n\n    const store = $store$.deref()\n    //log({ store })\n\n    const loader = (\n        <div className=\"spinner_container\">\n            <div className=\"spinner\">\n                <h1> fetching data... </h1>\n            </div>\n        </div>\n    )\n    const RenderPage =\n        {\n            home: Page1,\n            page1: Page1,\n            page2: Page2,\n            page3: Page3\n        }[page] || (() => loader)\n\n    const is_home = store[K.$$_PATH].length === 0\n\n    return loading === null ? (\n        <div>initializing.. </div>\n    ) : loading === true ? (\n        loader\n    ) : (\n        // @ts-ignore\n        <RenderPage data={is_home ? getIn(store, [ \"data\" ]) : getIn(store, path)} />\n    )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { NavLink } from \"react-router-dom\"\nimport { AmplifySignOut } from \"@aws-amplify/ui-react\"\nimport { Link } from \"./Link\"\nconst AppHeader = styled.header`\n    position: sticky;\n    width: 100%;\n    top: 0;\n    box-shadow: 0px 1px 3px;\n`\n\nconst AppHeaderContent = styled.div`\n    display: flex;\n    justify-content: space-between;\n    min-width: 800px;\n    max-width: 1440px;\n    padding: 0 12px;\n    margin: 0 auto;\n`\n\nconst AppHeaderNavList = styled.ul`\n    display: flex;\n    margin: 0;\n    list-style: none;\n`\n\nconst AppHeaderLink = styled(Link)`\n  font-size: 1rem;\n  display: inline-flex;\n  padding: 16px 20px;\n  align-items: center;\n  text-decoration: none;\n\n  &:hover,\n  &:active,\n  &:focus {\n      text-decoration: underline;\n    }\n  }\n`\n\nexport function Header() {\n    return (\n        <AppHeader>\n            <AppHeaderContent>\n                <nav>\n                    <AppHeaderNavList>\n                        <li>\n                            <AppHeaderLink to=\"/collections\">Contents</AppHeaderLink>\n                        </li>\n                    </AppHeaderNavList>\n                </nav>\n                <AmplifySignOut />\n            </AppHeaderContent>\n        </AppHeader>\n    )\n}\n\n//export default Header\n","import { getIn } from \"@thi.ng/paths\"\nimport { EquivMap } from \"@thi.ng/associative\"\n\nimport { URL2obj } from \"@-0/utils\"\nimport * as K from \"@-0/keys\"\nimport { out$, registerCMD } from \"@-0/spool\"\nimport { cmd_inject_head } from \"@-0/browser\"\n\n//import { Chrome } from \"../layout\"\nimport { log, JL } from \"../utils\"\nimport { node, API } from \"cope-client-utils\"\n\nimport { CTX } from \"../context\"\n//import { ByCampaign, ByTopic, BySender, Home } from \"../pages\"\n//import { LogButton, Filter } from \"../components\"\n\n//\n//                             d8\n//  888-~\\  e88~-_  888  888 _d88__  e88~~8e   d88~\\\n//  888    d888   i 888  888  888   d888  88b C888\n//  888    8888   | 888  888  888   8888__888  Y88b\n//  888    Y888   ' 888  888  888   Y888    ,   888D\n//  888     \"88_-~  \"88_-888  \"88_/  \"88___/  \\_88P\n//\n//\n\n// TODO: return types expected for routerCfg\nexport const routerCfg = async url => {\n    const match = URL2obj(url)\n    const { URL_DOMN, URL_FULL, URL_HASH, URL_PATH, URL_QERY, URL_SUBD } = match\n\n    //let { } = URL_QERY\n\n    //limit = parseInt(limit)\n    const path = match[K.URL_PATH]\n\n    log(JSON.stringify(match, null, 2))\n\n    const RES = new EquivMap(\n        [\n            [\n                // home page (path = [])\n                { ...match, [K.URL_PATH]: [] },\n                {\n                    [K.URL_DATA]: async () => {\n                        const list = await node.list({\n                            type: API.NodeType.A_GEM,\n                            status: API.NodeStatus.DRAFT\n                        })\n                        return {\n                            [K.DOM_HEAD]: {\n                                [K.HD_TITL]: \"COPE frontend\",\n                                [K.OG_DESC]: \"COPE frontend tinkering\"\n                                //img_url,\n                            },\n                            [K.DOM_BODY]: { data: list }\n                        }\n                    },\n                    [K.URL_PAGE]: \"home\"\n                }\n            ],\n            [\n                { ...match, URL_PATH: [ \"page1\" ] },\n                {\n                    URL_DATA: async () => {\n                        const list = await node.list({\n                            owner: \"PostConfirmTriggerLambda\"\n                        })\n                        return {\n                            DOM_HEAD: {\n                                title: \"Page 1\",\n                                og_description: \"Description for Open Graph/sharing\"\n                            },\n                            DOM_BODY: { data: list }\n                        }\n                    },\n                    URL_PAGE: \"page1\"\n                }\n            ]\n        ]\n    ).get(match) || { [K.URL_DATA]: () => 404, [K.URL_PAGE]: \"test\" }\n\n    const data = await RES[K.URL_DATA]()\n    const page = RES[K.URL_PAGE]\n    log(\"routed:\", { page, data })\n\n    return { [K.URL.DATA]: data, [K.URL.PAGE]: page }\n}\n\n//const Page2 = ({ data }) => {\n//    return h(\n//        \"pre\",\n//        { className: \"boobs\" },\n//        h(\"h1\", null, `PAGE 2:`),\n//        JSON.stringify(data, null, 2)\n//    )\n//}\nexport const INJECT_HEAD = registerCMD(cmd_inject_head)\n\nexport const router = {\n    [K.CFG_RUTR]: routerCfg,\n    //[K.RTR_PRFX]: \"staging/\",\n    [K.RTR_POST]: INJECT_HEAD\n}\n","import React from \"react\" //useMemo, //useLayoutEffect, //useEffect, //useContext, //createElement,\nimport { AmplifyAuthenticator, AmplifySignIn, AmplifySignUp, AmplifySignOut } from \"@aws-amplify/ui-react\"\nimport { AuthState, onAuthUIStateChange } from \"@aws-amplify/ui-components\"\n\n//import { getIn } from \"@thi.ng/paths\"\n//import { isObject } from \"@thi.ng/checks\"\n//import { EquivMap } from \"@thi.ng/associative\"\n//import { Cursor } from \"@thi.ng/atom\"\n\n//import \"regenerator-runtime\"\n// import scrolly from \"@mapbox/scroll-restorer\"\n// scrolly.start()\n\nimport { out$, registerCMD } from \"@-0/spool\"\nimport { cmd_inject_head } from \"@-0/browser\"\nimport * as K from \"@-0/keys\"\n\nimport { log } from \"./utils\"\nimport { Chrome, View } from \"./components\"\nimport { Provider } from \"./context\"\nimport { router } from \"./router\"\n\n// default value ({ run$  }) is applied when no Provider is found in the inheritance tree of the component (orphans)\n\nexport const INJECT_HEAD = registerCMD(cmd_inject_head)\n\nconst App = () => {\n    const [ authState, setAuthState ] = React.useState()\n    const [ user, setUser ] = React.useState()\n\n    React.useEffect(() => {\n        return onAuthUIStateChange((nextAuthState, authData) => {\n            setAuthState(nextAuthState)\n            setUser(authData)\n        })\n    }, [])\n\n    return authState === AuthState.SignedIn && user ? (\n        <div className=\"App\">\n            <Provider\n                CFG={{\n                    //count: 0,\n                    [K.CFG_RUTR]: router /* circular dep!! [K.CFG_ROOT]: root*/\n                }}\n            >\n                <Chrome>\n                    <View />\n                </Chrome>\n            </Provider>\n            <AmplifySignOut />\n        </div>\n    ) : (\n        <AmplifyAuthenticator>\n            <AmplifySignUp\n                slot=\"sign-up\"\n                formFields={[\n                    { type: \"username\", placeholder: \"john@email.com\", required: true, label: \"Email Address\" },\n                    { type: \"password\", required: true }\n                ]}\n            />\n        </AmplifyAuthenticator>\n    )\n}\n\nlog(\"registered Commands:\", out$.topics.entries())\n\nlog(\"starting...\")\n\nexport default App\n","// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\nimport Auth from \"@aws-amplify/auth\"\n\nconst awsmobile = {\n    aws_project_region                                           : \"us-east-1\",\n    aws_cognito_identity_pool_id                                 : \"us-east-1:5eb24d32-7dcf-4eec-b2cf-3ccb80538edb\",\n    aws_cognito_region                                           : \"us-east-1\",\n    aws_user_pools_id                                            : \"us-east-1_pDcWh9rz6\",\n    aws_user_pools_web_client_id                                 : \"119jhi81t735520srasmqrjsf5\",\n    oauth                                                        : {},\n    aws_cloud_logic_custom                                       : [\n        {\n            name     : \"AdminQueries\",\n            endpoint : \"https://nj59fniim5.execute-api.us-east-1.amazonaws.com/dev\",\n            region   : \"us-east-1\"\n        }\n    ],\n    aws_appsync_graphqlEndpoint                                  :\n        \"https://ug3flqmddnbevnzihtnbxfw464.appsync-api.us-east-1.amazonaws.com/graphql\",\n    aws_appsync_region                                           : \"us-east-1\",\n    aws_appsync_authenticationType                               : \"API_KEY\",\n    aws_appsync_apiKey                                           : \"da2-pnoc2ogp6fc47oiletkzyoad7e\",\n    aws_appsync_dangerously_connect_to_http_endpoint_for_testing : true\n    // fix for ownerField resolution provided by:\n    // https://github.com/aws-amplify/amplify-cli/issues/3794#issuecomment-606757449\n}\n\nexport default awsmobile\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Route, Router } from \"react-router-dom\"\nimport { history } from \"./routing/history\"\nimport { ThemeProvider } from \"@material-ui/styles\"\nimport theme from \"./theme\"\n//import App from \"./components/App\";\nimport App from \"./App\"\nimport awsconfig from \"./aws-exports\"\nimport { configureWith } from \"cope-client-utils\"\n// additional configurations in cope-client-utils provided\n// to properly assign ownership to created Nodes/Assets\nconfigureWith(awsconfig)\n\n//ReactDOM.render(\n//    <React.StrictMode>\n//        <Router history={history}>\n//            <ThemeProvider theme={theme}>\n//                <Route component={App} />\n//            </ThemeProvider>\n//        </Router>\n//    </React.StrictMode>,\n//    document.getElementById(\"root\")\n//)\n\nReactDOM.render(\n    <ThemeProvider theme={theme}>\n        <App />\n    </ThemeProvider>,\n    document.getElementById(\"root\")\n)\n","export * from \"./data\"\nexport * from \"./params\"\nexport * from \"./fetching\"\n"],"sourceRoot":""}